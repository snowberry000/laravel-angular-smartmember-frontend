<div class="inmodal">
    <div class="modal-header">
        <i ng-if="!editing_item.custom_icon && editing_item.icon" class="{{editing_item.icon}} modal-icon"></i>
        <i ng-if="editing_item.custom_icon && editing_item.custom_icon.indexOf('fa fa-') != -1" class="{{editing_item.custom_icon}} modal-icon"></i>
        <img class="img-thumbnail img-responsive" ng-if="editing_item.custom_icon && editing_item.custom_icon.indexOf('fa fa-') == -1" src="{{editing_item.custom_icon}}" />
        <h4 class="modal-title">{{editing_item.label}}</h4>
        <small class="font-bold" ng-if="editing_item.url.indexOf('http://') == -1 && editing_item.url.indexOf('https://') == -1">http://{{(app.domain ? app.domain : app.subdomain + '.' + app.rootDomain) + '/' + editing_item.url}}</small>
        <small class="font-bold" ng-if="editing_item.url.indexOf('http://') != -1 || editing_item.url.indexOf('https://') != -1">{{editing_item.url}}</small>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label>Label</label>
            <input type="text" placeholder="Label" ng-model="editing_item.label" class="form-control">
        </div>
        <div class="form-group">
            <label>Url</label>
            <a ng-click="editing_item.isOpen=true" data-html="true">
                {{ editing_item.url || 'Select url' }}
            </a>
            <div ng-if="editing_item.isOpen==true">
                <a href class="pull-right" ng-click="editing_item.isOpen = false">X</a>
                <div>
                    <label>Link Type</label>
                    <select class="form-control" ng-model="selected_url" ng-change="selectUrl(editing_item ,selected_url , false)">
                        <option value="" selected>Enter a custom url</option>
                        <option value="/">Home</option>
                        <option value="info">Sales Page</option>
                        <option value="lessons">Syllabus</option>
                        <option value="support">Support</option>
                        <option value="blog">Blog</option>
                        <option value="support-tickets">Support Tickets</option>
                        <option value="refund-page">Refund Page</option>
                        <option value="support-ticket/create?type=normal">Submit support ticket</option>
                        <option value="download-center">Download Center</option>
                        <option value="lesson">Choose a lesson</option>
                        <option value="customPage">Choose a page</option>
                        <option value="post">Choose a post</option>
                        <option value="livecast">Choose a livecast</option>
                        <option value="supportArticle">Choose a support article</option>
                        <option value="download">Choose a download</option>
                        <option value="bridgePage">Choose a bridgePage</option>
                    </select>
                </div>
                <label ng-if="show_next">Select Item</label>
                <select class="form-control" ng-model="editing_item.url" ng-change="selectUrl(editing_item , model.url , true)" ng-if="show_next">
                    <option ng-repeat="item in loaded_items" value="{{item.url}}">{{item.title}}
                    </option>
                </select>
                <label ng-hide="show_next">Enter Url</label>
                <input type="text" ng-blur="selectUrl(model , model.url , false)" ng-hide="selected_url" ng-model="editing_item.url" class="form-control" />
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" ng-click="ok()">Save changes</button>
        <button type="button" class="btn btn-white" ng-click="cancel()">Close</button>
    </div>
</div>


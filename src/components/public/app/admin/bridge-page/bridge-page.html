<div class="ui top sidebar top_bp_sidebar_contents">
	<div class="ui menu" ng-init="toggleSidebar()" ng-controller="bridgepageEngineController">

		<div class="header item">
			BridgePage Editor
		</div>

		<div class="item {{show_options ? 'active' :''}}">
			<button class="ui default button" ng-click="toggleSidebar()">Options</button>
		</div>
		<div class="pointing icon menu">
			<a class="item {{viewport == '' ? 'active' :''}}" ng-click="toggleViewPort('')" title="View as desktop" sui-popup>
				<i class="desktop icon"></i>
			</a>
			<a class="item {{viewport == 'viewport-tablet' ? 'active' :''}}" ng-click="toggleViewPort('viewport-tablet')" title="View as tablet" sui-popup>
				<i class="tablet icon"></i>
			</a>
			<a class="item {{viewport == 'viewport-mobile' ? 'active' :''}}" ng-click="toggleViewPort('viewport-mobile')" title="View as mobile" sui-popup>
				<i class="mobile icon"></i>
			</a>
		</div>
		<div class="menu">
			<div class="item">
				<div class="ui buttons">
					<div busy class="ui red button" ng-click="save();">Save</div>
					<div class="ui secondary button" ng-click="close();">cancel</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="ui wide sidebar vertical menu left left_bp_sidebar_contents">

	<div class="ui form">
		<div class="item field">
			<label>Template</label>
			<select class="ui dropdown" ng-model="template" ng-options="t.name for t in templates" sui-dropdown></select>
		</div>
		<div class="item field">
			<label>Page Title</label>
			<input type="text" ng-model="bridgepage.title" ng-blur="onBlurTitle($event)">
		</div>
		<div class="item field">
			<label>Permalink</label>
			<input type="text" ng-model="bridgepage.permalink" ng-blur="onBlurSlug($event)">
		</div>

		<div class="ui styled fluid accordion" sui-accordion>
			<h3 class="ui top attached header title">
				<i class="dropdown icon"></i>
				Social Sharing
			</h3>
			<div class="ui attached segment content">

				<div class="field">
					<label class="col-sm-2 control-label">Featured Image</label>

					<div class="col-sm-10">
						<button type="button"
								sm-uploader="featured_image" data-allowMultiple="false" ng-model="bridgepage.featured_image">
							Choose Featured Image
						</button>
						<div class="width-100 set_featured_image">
							<img class="featured_image_preview img-responsive img-thumbnail"
								 ng-src="{{bridgepage.featured_image}}"
								 ng-show="bridgepage.featured_image" style="width:auto;"/>
						</div>
						<div class="col-md-12" ng-if="bridgepage.featured_image">
							<i class="ace-icon fa fa-remove"
							   ng-click="bridgepage.featured_image=''">Remove</i>
						</div>
						<input type="hidden" name="featured_image" class="form-control input-lg"
							   ng-model="bridgepage.featured_image">
						<span class="help-block m-b-none">
							This is the featured image for your page, it is used as the image when sharing on social sites such as Facebook.
						</span>
					</div>
				</div>
				<div class="hr-line-dashed"></div>
				<div class="field">
					<label class="col-sm-2 control-label">Share Title</label>

					<div class="col-sm-10">
						<input type="text" name="fb_share_title" class="form-control input-lg"
							   ng-model="bridgepage.seo_settings.fb_share_title">
						<span class="help-block m-b-none">
							This is the title that will be used when this lesson is shared on Facebook.
						</span>
					</div>
				</div>
				<div class="hr-line-dashed"></div>
				<div class="field">
					<label class="col-sm-2 control-label">Share Description</label>

					<div class="col-sm-10">
						<textarea name="fb_share_description" class="form-control input-lg"
								  ng-model="bridgepage.seo_settings.fb_share_description"></textarea>
						<span class="help-block m-b-none">
						</span>
					</div>
				</div>
				<div class="field">
					<label class="col-sm-2 control-label">Facebook Retargeting Pixel ID</label>

					<div class="col-sm-10">
						<input type="text" name="fb_retargeting_pixel_id"
							   class="form-control input-lg"
							   ng-model="bridgepage.seo_settings.fb_retargeting_pixel_id">
						<span class="help-block m-b-none">
						</span>
					</div>
				</div>
				<div class="field">
					<label class="col-sm-2 control-label">Facebook Conversion Tracking Pixel
						ID
					</label>

					<div class="col-sm-10">
						<input type="text" name="fb_conversion_tracking_pixel_id"
							   class="form-control input-lg"
							   ng-model="bridgepage.seo_settings.fb_conversion_tracking_pixel_id">
						<span class="help-block m-b-none">
						</span>
					</div>
				</div>

			</div>
		</div>

		<h4 class="ui horizontal divider header">
			Template
		</h4>

		<div ng-if="template.control_url" ng-include="'bpage/' + template.control_url"></div>
	</div>

</div>

<div class="bp_content" ng-if="template" ng-include src="'bpage/' + template.preview_url"></div>
<pre>{{template}}</pre>

<div class="ui active inverted dimmer" ng-if="loading">
	<div class="ui loader"></div>
</div>
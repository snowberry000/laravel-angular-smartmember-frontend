<div class="twelve wide column" ng-include="'templates/components/public/app/site/common/show-content.html'"></div>
<div class="ui segment basic four wide column p-none" ng-show="loading" style="min-height:70px;">
	<div class="ui active inverted dimmer">
		<div class="ui text loader">Loading</div>
	</div>
</div>
<div class="four wide column p-none" ng-if="!loading">
	<div class="ui basic segment p-none m-t-xl">
		<h3 class="ui center aligned icon header headline_text_color">
			<i class="fa {{meta_data.cap_icon ? meta_data.cap_icon : 'student'}} icon"></i>

			<div class="content" ng-if="!loading">
				{{lesson.module.id ? lesson.module.title : ( options.default_module_title || 'Default' )}}
			</div>
		</h3>
	</div>
	<div class="ui basic segment p-none">
		<div class="ui clearing attached raised segment section_background_color">

			<div class="ui secondary three item menu m-n">
				<a class="item" ng-if="lesson.prev_lesson" ng-href="/{{lesson.prev_lesson.permalink}}" ng-click="assignCounter(showCounter-1)">
					<i class="fa fa-chevron-left icon"></i>
				</a>
				<a class="item">
					{{showCounter}} of {{lesson.total_lessons}}
				</a>
				<a class="item" ng-href="/{{lesson.next_lesson.permalink}}" ng-if="lesson.next_lesson" ng-click="assignCounter(showCounter+1)">
					<i class="fa fa-chevron-right icon"></i>
				</a>
			</div>

			<div class="ui form" ng-hide="!lesson.access || !isLoggedIn()">
				<a class="ui blue {{meta_data.sidebar_position == 'left' ? 'left' : 'right'}} ribbon label m-b-xs">Notes</a>
				<div class="field">
					<textarea ng-model="userNote.note"></textarea>
				</div>
				<div class="ui fluid buttons">
					<button class="ui left floated button" ng-click="saveNote()">
						Save
					</button>
					<button class="ui right floated button" ng-click="saveNoteAndToggleComplete()">
						Save &amp; Complete
					</button>
				</div>
			</div>
		</div>
	</div>

	<div ng-include="'templates/components/public/app/site/common/sidebar.html'"></div>

</div>




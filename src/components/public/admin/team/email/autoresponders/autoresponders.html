
<div class="ui modal">

    <div class="row">
        <div class="col-lg-12">

            <div class="ibox-content clear_box page-heading">
                <div class="p-xs">
                    <div class="row">
                        <div class="col-md-9">
                            <div class="pull-left m-r-md">
                                <i class="fa fa-envelope-o text-branded mid-icon"></i>
                            </div>
                            <h2 class="ui header">{{ 'AUTORESPONDERS' | translate }}</h2>
                            <span>Plan a series of emails to send subscribers based on their initial subscribe / join / optin date.</span>
                        </div>
                        <div class="col-md-3 text-right">
                            <a ui-sref="public.admin.team.email.autoresponder" class="btn btn-brand m-t-md btn-large">
                                <i class="fa fa-plus"></i>
                                Create new autoresponder
                            </a>
							<button disabled title="Tutorial coming soon!" class="btn btn-default m-t-md" type="button">
								<i class="fa fa-question"></i>
							</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-content">

					<table class="footable table table-stripped toggle-arrow-tiny" ng-if="data.length > 0 && !loading" foonice>
						<thead>
							<tr>
								<th data-toggle="true">Name</th>
								<th data-hide="phone,tablet">Segments</th>
								<th data-hide="all">Series</th>
								<th data-hide="all">Date</th>
								<th class="text-right" data-hide="phone" data-sort-ignore="true">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="next_item in data[ pagination.current_page ]">
								<td class="responsive_table_item">
									{{next_item.name}}
								</td>
								<td style="width: 300px;">
									<ul>
										<li ng-repeat="list in next_item.email_lists">{{list.name}}</li>
									</ul>
								</td>
								<td>
									<ul>
										<li ng-repeat="email in next_item.emails">{{email.subject}}</li>
									</ul>
								</td>
								<td>
									{{moment.utc(next_item.created_at).fromNow()}}
								</td>
								<td class="text-right" style="width: 185px;">

									<div class="btn-group">
										<a ui-sref="public.admin.team.email.autoresponder({id: next_item.id})" class="btn btn-brand btn-outline btn-xs">
											<i class="fa fa-pencil"></i>
											Edit
										</a>
										<button ng-if="next_item.list_type!='segment'" class="btn btn-danger btn-outline btn-xs" ng-click="delete(next_item.id)">
											Delete
											<i class="fa fa-trash"></i>
										</button>
									</div>
								</td>
							</tr>

						</tbody>
					</table>

                    <div ng-if="loading" class="sk-spinner sk-spinner-three-bounce">
                        <div class="sk-bounce1"></div>
                        <div class="sk-bounce2"></div>
                        <div class="sk-bounce3"></div>
                    </div>

                    <div ng-if="!loading" class="text-right">
                        <pagination total-items="pagination.total_count" max-size="5" items-per-page="25" ng-model="pagination.current_page" class="pagination-sm" boundary-links="true" ng-change="paginate()" previous-text="&lt;" next-text="&gt;" first-text="&laquo;" last-text="&raquo;"></pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

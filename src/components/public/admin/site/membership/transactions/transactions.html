<div class="ui modal">
	<i class="close icon"></i>

	<div class="header">
		<i class="paragraph icon"></i>
		{{ template_data.title | translate }}
	</div>
	<div class="content">
		<div class="description">
			<p>{{template_data.description}}</p>

			<div class="ibox float-e-margins">
				<div class="ibox-content">
					<div class="field" ng-if="pagination.total_count > 10 || query || pagination.current_page > 1">
						<input type="text" placeholder="Search" class="form-control" ng-model="$parent.query" ng-change="search()" ng-model-options="{debounce: { 'default': 1000, 'blur': 0 } }">
					</div>
					<div ng-if="loading" class="sk-spinner sk-spinner-three-bounce">
						<div class="sk-bounce1"></div>
						<div class="sk-bounce2"></div>
						<div class="sk-bounce3"></div>
					</div>

					<table class="ui fixed single line celled stackable table" data-page-size="15" ng-if="data.length > 0 && !loading">
						<thead>
							<tr>
								<th data-hide="title">Type</th>
								<th data-hide="title">Source</th>
								<th data-hide="title">Customer</th>
								<th data-hide="title">Customer</th>
								<th data-hide="title">Item</th>
								<th data-hide="title">Price</th>
								<th data-hide="title">TXN ID</th>
								<th data-hide="date">Date</th>
								<th class="text-right" data-sort-ignore="true">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="next_item in data[ pagination.current_page ]">
								<td>{{next_item.type}}</td>
								<td>{{next_item.source}}</td>
								<td>{{next_item.name}}</td>
								<td>{{next_item.user.first_name ? next_item.user.first_name + ' ' + next_item.user.last_name : next_item.user.email}}</td>
								<td>{{next_item.access_level.name ? next_item.access_level.name : next_item.product_id}}</td>
								<td>{{next_item.price}}</td>
								<td>{{next_item.transaction_id}}</td>
								<td>
									{{moment.utc(next_item.created_at).fromNow()}}
								</td>
								<td class="text-right">
									<button class="btn btn-danger btn-outline btn-sm ng-scope" ng-click="delete(next_item.id)">
										Delete
										<i class="fa fa-trash"></i>
									</button>
								</td>
							</tr>

						</tbody>
						<tfoot>
							<tr>
							</tr>
						</tfoot>
					</table>

					<div class="text-right" ng-if="!loading">
						<pagination total-items="pagination.total_count" max-size="5" items-per-page="25" ng-model="pagination.current_page" class="pagination-sm" boundary-links="true" ng-change="paginate()" previous-text="&lt;" next-text="&gt;" first-text="&laquo;" last-text="&raquo;"></pagination>
					</div>
				</div>
			</div>

		</div>
	</div>
	<div class="actions">
		<a ng-click="smModal.Show(template_data.edit_route)" class="ui right labeled icon button">
			Create new {{template_data.singular}}
			<i class="checkmark icon"></i>
		</a>
		<div class="ui black deny button close">
			Close
		</div>
	</div>
</div>


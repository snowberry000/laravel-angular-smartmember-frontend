<div class="header item">
	Smart Member
</div>

<div class="ui pointing dropdown link item" sui-dropdown>
	<i class="globe icon"></i>
	<span class="text">{{current_site_domain}}</span>
	<div class="menu" ng-controller="AdminBarController">
		<div class="ui right action left icon search input">
			<i class="search icon"></i>
			<input type="text" placeholder="Search sites...">
			<button type="button" class="ui red labeled icon button" ng-click="smModal.Show('public.admin.team.site')">
				<i class="plus icon"></i> New Site
			</button>
		</div>
		<div class="divider"></div>
		<div class="header">
			<i class="globe icon"></i>
			Navigate To Your Sites
		</div>
		<div class="scrolling menu">
			<div class="item" ng-repeat="next_item in admin_sites">
				<div class="ui red empty circular label"></div>
				<a href='http://{{next_item.subdomain}}.smartmember.{{app.env}}'>{{next_item.subdomain}}.smartmember.{{app.env}}</a>
			</div>
			<div class="item" ng-repeat="next_item in member_sites">
				<div class="ui red empty circular label"></div>
				<a href='http://{{next_item.subdomain}}.smartmember.{{app.env}}'>{{next_item.subdomain}}.smartmember.{{app.env}}</a>
			</div>
		</div>
		<div class="header text-center">
			<button type="button" class="ui red labeled icon button" ng-click="smModal.Show('public.admin.team.sites')">
				<i class="setting icon"></i> Manage Sites
			</button>
		</div>
	</div>
</div>

<a class="ui item" style="width: 200px;" ng-click="smModal.Show('public.admin.wizard' , {id : 'site_launch_wizard'})" ng-if="app.subdomain != 'my' && (is_admin || is_team_member)">
	<div class="ui indicating progress m-b-none" style="width: 100%;" data-value="{{site.wizard_step <=5 ? site.wizard_step : 5}}" data-total="5" data-percent="{{site.wizard_step * 100 / 5}}" sui-progress>
		<div class="bar" style="transition-duration: 300ms; width: {{ (site.wizard_step <=5 ? site.wizard_step : 5) / 5 * 100 }}%;">
			<div class="progress">{{site.wizard_step}} of 5 steps</div>
		</div>
		<div class="label" style="font-size: 0.8em;">Setup Wizard</div>
	</div>
</a>

<div class="ui dropdown item" ng-if="app.subdomain != 'my' && (is_admin || is_team_member)" sui-dropdown>
	<div class="ui right labeled icon green button">
		<i class="write icon"></i>
		Create
	</div>
	<div class="menu">
		<div class="item">
			<i class="dropdown icon"></i>
			<span class="text">{{ 'SYLLABUS' | translate }}</span>
			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.content.syllabus.lessons')">{{ 'LESSONS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.content.syllabus.modules')">{{ 'MODULES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.content.syllabus.organizer')">{{ 'ORGANIZER' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.content.syllabus.notes')">{{ 'NOTES' | translate }}</a>
			</div>
		</div>
		<div class="item">
			<i class="dropdown icon"></i>
			<span class="text">{{ 'BLOG' | translate }}</span>
			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.content.blog.posts')">{{ 'POSTS' | translate }}</a>
			</div>
		</div>
		<div class="item">
			<i class="dropdown icon"></i>
			<span class="text">{{ 'HELPDESK' | translate }}</span>
			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.content.helpdesk.articles')">{{ 'ARTICLES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.content.helpdesk.categories')">{{ 'CATEGORIES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.content.helpdesk.organizer')">{{ 'ORGANIZER' | translate }}</a>
			</div>
		</div>
		<div class="item">
			<i class="dropdown icon"></i>
			<span class="text">{{ 'DOWNLOAD_CENTER' | translate }}</span>
			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.content.downloads')">{{ 'DOWNLOADS' | translate }}</a>
			</div>
		</div>
		<div class="item">
			<i class="dropdown icon"></i>
			<span class="text">{{ 'LIVE_STREAMING' | translate }}</span>
			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.content.livecasts')">{{ 'LIVECASTS' | translate }}</a>
			</div>
		</div>
		<div class="item">
			<i class="dropdown icon"></i>
			<span class="text">{{ 'SITE_PAGES' | translate }}</span>
			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.pages.core.list')">{{ 'CORE_PAGES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.pages.custom-pages')">{{ 'CUSTOM_PAGES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.pages.bridge-pages')">{{ 'BRIDGE_PAGES' | translate }}</a>
			</div>
		</div>
		<a class="item" ng-click="smModal.Show('public.admin.site.membership.notices')">Site notices</a>
		<a class="item" ng-click="smModal.Show('public.admin.site.content.import')">{{ 'IMPORT' | translate }}</a>
		<a class="item" ng-click="smModal.Show('public.admin.site.content.stats')">{{ 'STATS' | translate }}</a>
	</div>
</div>
<div class="ui item" ng-if="app.subdomain != 'my' && (is_admin || is_team_member)">
	<div class="ui small basic icon buttons">

		<div ng-if="is_team_member" class="ui top left pointing dropdown icon button" sui-dropdown>
			<i class="setting icon"></i>

			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.appearance.settings')">{{ 'APPEARANCE_GENERAL_SETTINGS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.appearance.menus')">{{ 'NAVIGATION_MENUS' | translate }}</a>
				<div class="item">
					<i class="dropdown icon"></i>
					<span class="text">{{ 'SIDEBAR_MANAGEMENT' | translate }}</span>
					<div class="menu">
						<a class="item" ng-click="smModal.Show('public.admin.site.appearance.widgets')">{{ 'WIDGETS' | translate }}</a>
						<a class="item" ng-click="smModal.Show('public.admin.site.appearance.banners')">{{ 'BANNERS' | translate }}</a>
						<a class="item" ng-click="smModal.Show('public.admin.site.appearance.stats')">{{ 'STATS' | translate }}</a>
					</div>
				</div>
				<a class="item" ng-click="smModal.Show('public.admin.site.appearance.facebook-settings')">{{ 'SOCIAL_SETTINGS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.marketing.tracking')">{{ 'AD_TRACKING_SETTINGS' | translate }}</a>
				<a class="item" ng-if="app.subdomain != 'my' && (is_admin || is_team_member)" ng-click="smModal.Show('public.admin.site.appearance.directory')">Directory Listing</a>
				<div class="item">
					<i class="dropdown icon"></i>
					<span class="text">Plugins</span>
					<div class="menu">
						<a class="item" ng-click="smModal.Show('public.admin.team.integrations.available')">Add new plugin</a>
						<a class="item" ng-click="smModal.Show('public.admin.team.integrations.list')">Installed plugins</a>
						<a class="item" ng-click="smModal.Show('public.admin.team.integrations.connections')">{{ 'CONNECTED_ACCOUNTS' | translate }}</a>
					</div>
				</div>
			</div>
		</div>

		<div class="ui top left pointing dropdown icon button" sui-dropdown>
			<i class="users icon"></i>

			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.site.membership.members')">{{ 'MEMBERS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.membership.products')">{{ 'PRODUCTS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.membership.passes')">{{ 'PASSES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.membership.transactions')">{{ 'TRANSACTIONS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.wallboard')" target=_blank>{{ 'SALES_WALLBOARD' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.site.membership.finance_settings')">{{ 'FINANCE_SETTINGS' | translate }}</a>

			</div>
		</div>
		<div ng-if="is_team_member" class="ui top left pointing dropdown icon button" sui-dropdown>
			<i class="send icon"></i>

			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.team.email.emails')">{{ 'EMAILS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.lists')">{{ 'LISTS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.groups')">{{ 'GROUPS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.subscribers')">{{ 'SUBSCRIBERS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.autoresponders')">{{ 'AUTORESPONDERS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.forms')">{{ 'OPTIN_FORM' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.settings')">{{ 'SETTINGS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.email.queue')">{{ 'QUEUE' | translate }}</a>
			</div>
		</div>
		<div class="ui top left pointing dropdown icon button" ng-if="is_site_admin || is_agent || is_team_member" sui-dropdown>
			<i class="life ring icon"></i>

			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.team.helpdesk.tickets.open')">{{ 'TICKETS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.helpdesk.settings')" style="display:none;">{{ 'SETTINGS' | translate }}</a>
			</div>
		</div>
		<div class="ui top left pointing dropdown icon button" ng-if="is_team_member" sui-dropdown>
			<i class="sitemap icon"></i>

			<div class="menu">
				<a class="item" ng-click="smModal.Show('public.admin.team.jv.affiliates')">{{ 'AFFILIATES' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.jv.teams')">{{ 'AFFILIATE_TEAMS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.jv.fetcher')">{{ 'JVZOO_FETCHER' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.jv.contests')">{{ 'CONTESTS' | translate }}</a>
				<a class="item" ng-click="smModal.Show('public.admin.team.jv.stats')">{{ 'STATS' | translate }}</a>
			</div>
		</div>
	</div>
</div>


<div class="item" ng-if="is_admin || is_team_member">
	<a class="ui grey button" ng-click="smSidebar.Show('.left_sidebar_contents', 'theme-editor.html')">
		<i class="options icon"></i>
		Theme
	</a>
</div>
<div class="right menu">

	<div class="ui dropdown item" sui-dropdown>
		<i class="settings icon"></i>
		Account
		<i class="dropdown icon"></i>

		<div class="menu">
			<a class="item" ng-click="smModal.Show('public.admin.account.settings')">Account settings</a>
			<a class="item" ng-click="smModal.Show('public.admin.team.profile')">Public profile</a>
		</div>
	</div>
	<div class="item">
		<a class="ui default button" ui-sref="public.sign.out">Log out</a>
	</div>
</div>
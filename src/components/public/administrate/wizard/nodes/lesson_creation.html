<div class="ui modal">
	<div class="header">
		<i class="write icon"></i>
		Add a new lesson
	</div>
	<div class="content">
		<div class="description">

			<div class="ui message">
				<p>Lessons are the most common type of content found on membership sites. Create one below!</p>
			</div>

			<div class="ui section divider"></div>

			<table class="ui celled striped table" ng-if="lessons.length > 0">
				<thead>
					<tr>
						<th colspan="2">
							Your Lessons
						</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="next_item in lessons">
						<td>
							{{next_item.title}}
						</td>
						<td class="right aligned">
							<button busy ng-click="delete(next_item.id)" class="ui right labeled icon button">
								Delete
								<i class="trash icon"></i>
							</button>
						</td>
					</tr>
				</tbody>
			</table>

			<div class="ui form">

				<div class="field">
					<label>Lesson title</label>
					<input type="text" ng-model="next_item.title" ng-blur="setPermalink($event)">

				</div>
				<div class="eight wide field">
					<label>Module</label>
					<select class="ui dropdown" ng-model="selectedModule" ng-change="changeModule(selectedModule)" ng-if="modules" sui-dropdown>
						<option value="">Module</option>
						<option ng-repeat="module in $rootScope.modules" ng-selected="next_item.module_id == module.id || !next_item.module_id">{{module.title}}</option>
					</select>
				</div>
				<div class="field">
					<label>Lesson text / content</label>
					<textarea froala ng-model="next_item.content"></textarea>
				</div>

			</div>

		</div>
	</div>
	<div class="actions">
		<a busy ng-click="add()" class="ui left floated left labeled icon button">
			Save & add more
			<i class="plus icon"></i>
		</a>
		<div class="ui black deny button close" ng-click="cancel()">
			Back
		</div>
		<a busy ng-click="save()" class="ui right labeled icon green button">
			Save & continue
			<i class="checkmark icon"></i>
		</a>
	</div>
</div>